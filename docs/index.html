<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Daggerfall Quest Decompiler</title>
    <style>
        html{font-family:"Lucida Console",Monaco,monospace}body{background:#FAEBD7}span{white-space:pre;font-family:monospace;display: inline-block;}#jsonTree ul{list-style:none;margin:5px;padding:0;cursor:default}#jsonTree li{list-style:none;padding-left:14px}#jsonTree li.expandable{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAADxSURBVHjafFBLaoRAFKzE9gfiFTyEF8gcYEAIZOUJcpdsA24CA+6yGGEO4NqtR3AlBHdG2h+mX82HyWYePLr6VTVV/Z6yLHuxbbv0PA+u68JxHEhN04RxHKG1xjzPO7UsSxnHMcmu60hKBUGAKIqIq6oqlVHLCw6GYUCSJMRFUSAMQ2LhlVi0bUsrDlfcrJumYRTBSqz6vkeappiMSF+EyesbHAvI85xxKJT++cW/0uc0uPIUruuK78MniX36zvOUn+9KKQqfxd+sB77vM7RkZBssM+GY8f7X27bh+PVBbFnWbc5fmz3u6rp+uHDR/AkwAGqHn+ZepzDiAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:0 5px;cursor:pointer}#jsonTree li.expanded{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAACYSURBVHjajJA7CoMhEIQ3sD7u4wXy38NzBeyFXCGdta0HSG2XxsIn5F9DOiMZ2Go+mXEuxpgrY8xJKUEIAZxzINVaoZQCOWdorR3Ye3dKKdjJe+/wpOnFFiQfKSLGOKNWoirkIfVIKYHWeglaa2fXCdI9X+vYrz/BMQY87rcliIgfkPLPeeb90uz496/PHY8QwnZwYt4CDACMsHBjtyPgCAAAAABJRU5ErkJggg==)}.smaller{font-size: 12px;
    </style>
</head>
<body>
<h1>Daggerfall Quest Decompiler</h1>
<p>QBN files reverse engineered and explorable in detail.</p>
<div>
    <label for="quest_selector"> Quest: </label>
    <select id="quest_selector">
        <option>- Load Quest -</option>
        <option>$CUREVAM</option>
        <option>$CUREWER</option>
        <option>_BRISIEN</option>
        <option>_TUTOR__</option>
        <option>00B00Y00</option>
        <option>10C00Y00</option>
        <option>20C00Y00</option>
        <option>30C00Y00</option>
        <option>40C00Y00</option>
        <option>50C00Y00</option>
        <option>60C00Y00</option>
        <option>70C00Y00</option>
        <option>80C00Y00</option>
        <option>80C0XY00</option>
        <option>90C00Y00</option>
        <option>A0C00Y00</option>
        <option>A0C00Y04</option>
        <option>A0C00Y06</option>
        <option>A0C00Y07</option>
        <option>A0C00Y08</option>
        <option>A0C00Y10</option>
        <option>A0C00Y11</option>
        <option>A0C00Y12</option>
        <option>A0C00Y14</option>
        <option>A0C00Y15</option>
        <option>A0C00Y16</option>
        <option>A0C00Y17</option>
        <option>A0C01Y01</option>
        <option>A0C01Y03</option>
        <option>A0C01Y06</option>
        <option>A0C01Y09</option>
        <option>A0C01Y13</option>
        <option>A0C0XY04</option>
        <option>A0C10Y02</option>
        <option>A0C10Y05</option>
        <option>A0C41Y18</option>
        <option>B0B00Y00</option>
        <option>B0B00Y01</option>
        <option>B0B10Y04</option>
        <option>B0B20Y07</option>
        <option>B0B40Y08</option>
        <option>B0B40Y09</option>
        <option>B0B50Y11</option>
        <option>B0B60Y12</option>
        <option>B0B70Y14</option>
        <option>B0B70Y16</option>
        <option>B0B71Y03</option>
        <option>B0B80Y17</option>
        <option>B0B81Y02</option>
        <option>B0C00Y05</option>
        <option>B0C00Y06</option>
        <option>B0C00Y10</option>
        <option>B0C00Y13</option>
        <option>C0B00Y00</option>
        <option>C0B00Y01</option>
        <option>C0B00Y02</option>
        <option>C0B00Y03</option>
        <option>C0B00Y04</option>
        <option>C0B00Y14</option>
        <option>C0B10Y05</option>
        <option>C0B10Y06</option>
        <option>C0B10Y07</option>
        <option>C0B10Y15</option>
        <option>C0B20Y08</option>
        <option>C0B3XY09</option>
        <option>C0C00Y10</option>
        <option>C0C00Y11</option>
        <option>C0C00Y12</option>
        <option>C0C00Y13</option>
        <option>D0B00Y00</option>
        <option>E0B00Y00</option>
        <option>F0B00Y00</option>
        <option>G0B00Y00</option>
        <option>H0B00Y00</option>
        <option>I0B00Y00</option>
        <option>J0B00Y00</option>
        <option>K0C00Y00</option>
        <option>K0C00Y02</option>
        <option>K0C00Y03</option>
        <option>K0C00Y04</option>
        <option>K0C00Y05</option>
        <option>K0C00Y06</option>
        <option>K0C00Y07</option>
        <option>K0C00Y08</option>
        <option>K0C00Y09</option>
        <option>K0C01Y00</option>
        <option>K0C01Y10</option>
        <option>K0C0XY01</option>
        <option>K0C30Y03</option>
        <option>L0A01L00</option>
        <option>L0B00Y00</option>
        <option>L0B00Y01</option>
        <option>L0B00Y02</option>
        <option>L0B00Y03</option>
        <option>L0B10Y01</option>
        <option>L0B10Y03</option>
        <option>L0B20Y02</option>
        <option>L0B30Y03</option>
        <option>L0B30Y09</option>
        <option>L0B40Y04</option>
        <option>L0B50Y11</option>
        <option>L0B60Y10</option>
        <option>M0B00Y00</option>
        <option>M0B00Y06</option>
        <option>M0B00Y07</option>
        <option>M0B00Y15</option>
        <option>M0B00Y16</option>
        <option>M0B00Y17</option>
        <option>M0B11Y18</option>
        <option>M0B1XY01</option>
        <option>M0B20Y02</option>
        <option>M0B21Y19</option>
        <option>M0B30Y03</option>
        <option>M0B30Y04</option>
        <option>M0B30Y08</option>
        <option>M0B40Y05</option>
        <option>M0B50Y09</option>
        <option>M0B60Y10</option>
        <option>M0C00Y11</option>
        <option>M0C00Y12</option>
        <option>M0C00Y13</option>
        <option>M0C00Y14</option>
        <option>N0B00Y04</option>
        <option>N0B00Y06</option>
        <option>N0B00Y08</option>
        <option>N0B00Y09</option>
        <option>N0B00Y16</option>
        <option>N0B00Y17</option>
        <option>N0B10Y01</option>
        <option>N0B10Y03</option>
        <option>N0B11Y18</option>
        <option>N0B20Y02</option>
        <option>N0B20Y05</option>
        <option>N0B21Y14</option>
        <option>N0B30Y15</option>
        <option>N0B40Y07</option>
        <option>N0C00Y01</option>
        <option>N0C00Y10</option>
        <option>N0C00Y11</option>
        <option>N0C00Y12</option>
        <option>N0C00Y13</option>
        <option>O0A0AL00</option>
        <option>O0B00Y00</option>
        <option>O0B00Y01</option>
        <option>O0B00Y11</option>
        <option>O0B00Y12</option>
        <option>O0B10Y00</option>
        <option>O0B10Y03</option>
        <option>O0B10Y05</option>
        <option>O0B10Y06</option>
        <option>O0B10Y07</option>
        <option>O0B20Y02</option>
        <option>O0B2XY04</option>
        <option>O0B2XY08</option>
        <option>O0B2XY09</option>
        <option>O0B2XY10</option>
        <option>P0A01L00</option>
        <option>P0B00L01</option>
        <option>P0B00L03</option>
        <option>P0B00L04</option>
        <option>P0B00L06</option>
        <option>P0B01L02</option>
        <option>P0B10L07</option>
        <option>P0B10L08</option>
        <option>P0B10L10</option>
        <option>P0B20L09</option>
        <option>Q0C00Y01</option>
        <option>Q0C00Y03</option>
        <option>Q0C00Y04</option>
        <option>Q0C00Y06</option>
        <option>Q0C00Y07</option>
        <option>Q0C00Y08</option>
        <option>Q0C0XY02</option>
        <option>Q0C10Y00</option>
        <option>Q0C20Y02</option>
        <option>Q0C4XY04</option>
        <option>R0C10Y00</option>
        <option>R0C10Y01</option>
        <option>R0C10Y02</option>
        <option>R0C10Y04</option>
        <option>R0C10Y05</option>
        <option>R0C10Y06</option>
        <option>R0C10Y08</option>
        <option>R0C10Y09</option>
        <option>R0C10Y10</option>
        <option>R0C10Y11</option>
        <option>R0C10Y12</option>
        <option>R0C10Y13</option>
        <option>R0C10Y14</option>
        <option>R0C10Y15</option>
        <option>R0C10Y17</option>
        <option>R0C10Y18</option>
        <option>R0C10Y20</option>
        <option>R0C10Y21</option>
        <option>R0C11Y03</option>
        <option>R0C11Y16</option>
        <option>R0C11Y19</option>
        <option>R0C11Y26</option>
        <option>R0C11Y27</option>
        <option>R0C11Y28</option>
        <option>R0C20Y07</option>
        <option>R0C20Y22</option>
        <option>R0C30Y25</option>
        <option>R0C40Y23</option>
        <option>R0C4XY23</option>
        <option>R0C60Y24</option>
        <option>S0000001</option>
        <option>S0000002</option>
        <option>S0000003</option>
        <option>S0000004</option>
        <option>S0000005</option>
        <option>S0000006</option>
        <option>S0000007</option>
        <option>S0000008</option>
        <option>S0000009</option>
        <option>S0000010</option>
        <option>S0000011</option>
        <option>S0000012</option>
        <option>S0000013</option>
        <option>S0000015</option>
        <option>S0000016</option>
        <option>S0000017</option>
        <option>S0000018</option>
        <option>S0000020</option>
        <option>S0000021</option>
        <option>S0000022</option>
        <option>S0000100</option>
        <option>S0000101</option>
        <option>S0000102</option>
        <option>S0000103</option>
        <option>S0000104</option>
        <option>S0000106</option>
        <option>S0000107</option>
        <option>S0000500</option>
        <option>S0000501</option>
        <option>S0000502</option>
        <option>S0000503</option>
        <option>S0000977</option>
        <option>S0000988</option>
        <option>S0000999</option>
        <option>STARTFIN</option>
        <option>STARTFIX</option>
        <option>T0C00Y00</option>
        <option>U0C00Y00</option>
        <option>V0C00Y00</option>
        <option>W0C00Y00</option>
        <option>X0C00Y00</option>
        <option>Y0C00Y00</option>
        <option>Z0C00Y00</option>
    </select>
</div>
<div id="placeholder"></div>
<br/>
<div id="jsonDownload" class="smaller"></div>
<div id="legend">
    <h3>Opcodes:</h3>
    Opcodes are the "script" of the quest. It contains references to items, locations, npcs, timers and mobs.
    <ul>
        <li><span>=></span> an action that is executed once.</li>
        <li><span>>> If...</span> a state is set if a certain condition is true.</li>
        <li><span>s_1 =></span> an action that is executed once when the state s_1 is set.</li>
        <li><span>s_1 >> When...</span> if s_1 is set, set a certain state when a condition is true.</li>
    </ul>
    <h4>Labels:</h4>
    <ul>
        <li>Item labels are prefixed with <span>i_</span></li>
        <li>Location labels are prefixed with <span>l_</span></li>
        <li>Npc labels are prefixed with <span>n_</span></li>
        <li>Mob labels are prefixed with <span>m_</span></li>
        <li>Timer labels are prefixed with <span>t_</span></li>
    </ul>
    Some labels have names, others have numbers. The numbers are as yet unknown <a href="https://en.uesp.net/wiki/Daggerfall:Text_Variable_Hashes">hash
    values</a>.
</div>
<p class="smaller">For background information see <a href="https://en.uesp.net/wiki/Daggerfall:Quest_hacking_guide">Quest_hacking_guide</a></p>
</body>
</html>
<script type="text/javascript" src="https://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript">
    function JsonTreeBuilder(){this.build=function(d){var c=a(d);b(c);return $('<div id="jsonTree"/>').append(c)};var a=function(g){if(typeof(g)=="object"&&g!=null){var f=$("<ul>");for(var e in g){var c=$("<li>");f.append(c.html(e).append(a(g[e])))}return f}else{var d=(g==undefined)?"[empty]":g;var h=document.createTextNode(" : "+d);return h}};var b=function(c){$("li > ul",c).each(function(){var d=$(this);var e=d.parent("li");e.addClass("expandable");e.click(function(){$(this).toggleClass("expanded");d.slideToggle("fast")});d.click(function(f){f.stopPropagation()})});$("ul",c).hide()}};
</script>
<script type="text/javascript">
$(document).ready(function () {
   $('select#quest_selector').change(function () {
       var quest = $('select#quest_selector option:selected').text();
       buildTree(quest);
   });
   if(location.hash) {
        var quest = location.hash.substr(1);
        $('select#quest_selector').val(quest).change();
    }
});
function buildTree(quest) {
    var treeBuilder = new JsonTreeBuilder();
    $.getJSON(quest + '.json', function ( data ) {
       var tree = treeBuilder.build(data);
       $('#jsonTree').remove();
       $('div#placeholder').append(tree);
       $('#jsonTree > ul > li:nth-child(7)').click();
       $('div#jsonDownload').html('Raw json source: <a href="' + quest + '.json">' + quest + '.json</a>.');
       if(history.pushState) {
           history.pushState(null, null, '#' + quest);
        }
        else {
            location.hash = '#' + quest;
        }
   });
}


</script>